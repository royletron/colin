{"ts":1369233593992,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"Template.navigation.helpers({\n  displayName: function(){\n    var user = Meteor.user();\n    return (user.profile && user.profile.name) || user.username || (user.emails && user.emails[0] && user.emails[0].address);\n  },\n\n  loading : function() {\n    return Session.get('loading');\n  }\n});\n\nTemplate.navigation.events({\n\n  'click .brand' : function() {\n    Session.set('currentView', null);\n    Session.set('currentVideo', null);\n    Router.navigate('');\n    return false;\n  },\n\n  'click .logout' : function() {\n    Meteor.logout();\n    Session.set('currentView', null);\n    Session.set('currentVideo', null);\n    Router.navigate('');\n    return false;\n  },\n\n  'click .view-library' : function() {\n    Session.set('overlay', 'viewLibrary');\n    Router.navigate('library');\n    return false;\n  },\n\n  'click .view-help' : function() {\n    Session.set('currentVideo', null);\n    Session.set('currentView', 'help');\n    Router.navigate('help');\n    return false;\n  },\n\n  'click .new-project' : function(){\n    Session.set('overlay', 'newVideo');\n    Router.navigate('new-project');\n    return false;\n  },\n\n  'click .login' : function(){\n    Session.set('overlay', 'loginForm');\n    Router.navigate('login');\n    return false;\n  }\n});\n\n\nfunction addClass() {\n  $('#overlay').addClass('active');\n}\n\n// When rendered, add the 'active' class. This allows\n// us to animate the fade/scale. Defer forces a redraw\n// to ensure the animation happens.\nTemplate.overlay.rendered = function(){\n  if (Session.get('overlay')) {\n    _.defer(addClass);\n  }\n};"]],"start1":0,"start2":0,"length1":0,"length2":1536}]],"length":1536}
{"contributors":[],"silentsave":false,"ts":1369233669997,"patch":[[{"diffs":[[0,") {\n"],[-1,"    Session.set('currentView', null);\n    Session.set('currentVideo', null);\n"],[0,"    "]],"start1":346,"start2":346,"length1":85,"length2":8},{"diffs":[[0,"();\n"],[-1,"    Session.set('currentView', null);\n    Session.set('currentVideo', null);\n"],[0,"    "]],"start1":449,"start2":449,"length1":85,"length2":8}]],"length":1382,"saved":false}
{"contributors":[],"silentsave":false,"ts":1369253052027,"patch":[[{"diffs":[[0,"k .view-"],[-1,"library"],[1,"collection"],[0,"' : func"]],"start1":509,"start2":509,"length1":23,"length2":26},{"diffs":[[0,"te('"],[-1,"library"],[1,"collection"],[0,"');\n"]],"start1":604,"start2":604,"length1":15,"length2":18}]],"length":1388,"saved":false}
